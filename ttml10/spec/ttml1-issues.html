<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>TTML 1.0 - Errata</title>
<link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/base.css"/>
</head>
<body>
<h1>Errata for Timed Text Markup Language (TTML) 1.0; W3C REC, 18 November 2010</h1>

<ol>
<li><a href='#mediaType'>Update to TTML Media Type</a></li>
<li><a href='#tts_extent'>XML schema error for tts:extent usage</a></li>
<li><a href='#xsd_validation'>XML Schema is too restrictive</a></li>
</ol>

<p>Note: Updated Zip archives
for <a href='/2012/02/rnc-schema.zip'>Relax NG</a>,
and <a href='/2012/02/xsd-schema.zip'>XML Schema</a> schemas are
available.</p>

<h2 id='mediaType'>Update to TTML Media Type</h2>
<div class="div1">
<h2><a id="media-type-registration">C Media Type Registration</a></h2><p><em>This appendix is normative.</em></p><p>This appendix registers a new MIME media type,
"application/ttml+xml" in conformance with
<a href="http://www.ietf.org/rfc/rfc4288.txt">BCP 13</a> and
<a href="http://www.w3.org/2002/06/registering-mediatype.html">W3CRegMedia</a>.
The information in this appendix is being submitted to the Internet
Engineering Steering Group (IESG) for review, approval, and
registration with the Internet Assigned Numbers Authority (IANA).</p><dl>
<dt class="label">Type name:</dt>
<dd><p>application</p></dd>
<dt class="label">Subtype name:</dt>
<dd><p>ttml+xml</p></dd>
<dt class="label">Required parameters:</dt>
<dd><p>None.</p></dd>
<dt class="label">Optional parameters:</dt>
<dd>
<dl>
<dt class="label">charset</dt>
<dd><p>Same as application/xml media type, as specified in <a href="#rfc3023">[XML Media Types]</a> or its successors.</p></dd>
<dt class="label">profile</dt>
<dd><p>The document profile of a TTML document may be specified using
an optional <code>profile</code> parameter, which, if specified,
the value of which must adhere to the syntax and semantics of
<code>ttp:profile</code> parameter defined by
Section
<a href="#parameter-attribute-profile"><b>6.2.8 ttp:profile</b></a>
of the published specification.</p></dd>
</dl>
</dd>
<dt class="label">Encoding considerations:</dt>
<dd><p>Same for application/xml. See <a href="#xml-media">[XML Media]</a>, Section
3.2.</p></dd>
<dt class="label">Security considerations:</dt>
<dd><p>As with other XML types and as noted in
<a href="#xml-media">[XML Media]</a>
Section 10, repeated expansion of maliciously constructed XML entities
can be used to consume large amounts of memory, which may cause XML
processors in constrained environments to fail.</p><p>In addition, because of the extensibility features for TTML and of XML
in general, it is possible that "application/ttml+xml" may describe content
that has security implications beyond those described here. However,
if the processor follows only the normative semantics of the published
specification, this content will be outside TTML namespaces and
may be ignored. Only in the case where the processor recognizes and
processes the additional content, or where further processing of that
content is dispatched to other processors, would security issues
potentially arise. And in that case, they would fall outside the
domain of this registration document.</p></dd>
<dt class="label">Interoperability considerations:</dt>
<dd><p>The published specification describes processing semantics that dictate
behavior that must be followed when dealing with, among other things,
unrecognized elements and attributes, both in TTML namespaces and in
other namespaces.</p><p>Because TTML is extensible, conformant "application/ttml+xml" processors must
expect that content received is well-formed XML, but it cannot be
guaranteed that the content is valid to a particular DTD or Schema or
that the processor will recognize all of the elements and attributes
in the document.</p><p></p></dd>
<dt class="label">Published specification:</dt>
<dd><p><a href="http://www.w3.org/TR/ttaf1-dfxp/">Timed Text Markup Language (TTML) 1.0</a>.</p></dd>
<dt class="label">Applications that use this media type:</dt>
<dd><p>TTML is used in the television industry for the purpose of authoring,
        transcoding and  exchanging timed text information and for delivering captions
        for television material repurposed for the internet.</p>
    <p>There is partial and full support of TTML in components used by several
        Web browsers plugins, and in a number of caption authoring tools.</p></dd>

<dt class="label">Additional information:</dt>
<dd>
<dl>
<dt class="label">Magic number(s):</dt>
<dd></dd>
<dt class="label">File extension(s):</dt>
<dd><p>.ttml</p></dd>
<dt class="label">Macintosh file type code(s):</dt>
<dd><p>"TTML"</p></dd>
<dt class="label">Fragment identifiers:</dt>
<dd><p>For documents labeled as application/ttml+xml, the fragment
identifier notation is intended to be used with xml:id attributes, as
described in section 7.2.1 of
the <a href="http://www.w3.org/TR/ttaf1-dfxp/">Timed Text Markup
Language (TTML) 1.0</a> specification.</p></dd>
</dl>
</dd>
<dt class="label">Person &amp; email address to contact for further information:</dt>
<dd><p>Timed Text Working Group (public-tt@w3.org)</p></dd>
<dt class="label">Intended usage:</dt>
<dd><p>COMMON</p></dd>
<dt class="label">Restrictions on usage:</dt>
<dd><p>None</p></dd>
<dt class="label">Author:</dt>
<dd><p>The published specification is a work product of the World Wide Web
Consortium's Timed Text (TT) Working Group.</p></dd>
<dt class="label">Change controller:</dt>
<dd><p>The W3C has change control over this specification.</p></dd>
</dl></div>

<h2 id='tts_extent'>XML schema error for tts:extent usage</h2>

<h3>B.1.2.6 Document Module</h3>

<div class="exampleInner"><pre># .......................................................................
# TT-AF 1.0 DFXP Document Module ........................................
# .......................................................................

## tt - generic top-level document element type
TTAF.tt =
  element tt {
    TTAF.tt.attlist,
    TTAF.tt.content
  }

TTAF.tt.attlist &amp;=
  TTAF.Core.required.attrib.class,
  TTAF.Parameter.attrib.class,
  TTAF.extent.attrib

TTAF.tt.content =
  (TTAF.head?, TTAF.body?)

# .......................................................................
# .......................................................................
# .......................................................................
</pre></div>

<h3>B.2.2.5 Document Module</h3>

<div class="exampleInner"><pre>&lt;xs:schema targetNamespace="http://www.w3.org/ns/ttml" xml:lang="en"
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  xmlns:tt="http://www.w3.org/ns/ttml"
  xmlns:ttm="http://www.w3.org/ns/ttml#metadata"
  xmlns:ttp="http://www.w3.org/ns/ttml#parameter"
  xmlns:tts="http://www.w3.org/ns/ttml#styling"&gt;
  &lt;xs:import namespace="http://www.w3.org/ns/ttml#metadata"
    schemaLocation="ttaf1-dfxp-metadata-items.xsd"/&gt;
  &lt;xs:import namespace="http://www.w3.org/ns/ttml#parameter"
    schemaLocation="ttaf1-dfxp-parameter-items.xsd"/&gt;
  &lt;xs:import namespace="http://www.w3.org/ns/ttml#styling"
    schemaLocation="ttaf1-dfxp-styling-attribs.xsd"/&gt;
  &lt;xs:include schemaLocation="ttaf1-dfxp-core-attribs.xsd"/&gt;
  &lt;xs:include schemaLocation="ttaf1-dfxp-timing-attribs.xsd"/&gt;
  &lt;xs:include schemaLocation="ttaf1-dfxp-head.xsd"/&gt;
  &lt;xs:include schemaLocation="ttaf1-dfxp-content.xsd"/&gt;
  &lt;xs:attributeGroup name="tt.attlist"&gt;
    &lt;xs:attributeGroup ref="tt:Core.required.attrib.class"/&gt;
    &lt;xs:attributeGroup ref="ttp:Parameter.attrib.class"/&gt;
    &lt;xs:attribute ref="tts:extent"/&gt;
  &lt;/xs:attributeGroup&gt;
  &lt;xs:complexType name="tt.eltype"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element ref="tt:head" minOccurs="0" maxOccurs="1"/&gt;
      &lt;xs:element ref="tt:body" minOccurs="0" maxOccurs="1"/&gt;
    &lt;/xs:sequence&gt;
    &lt;xs:attributeGroup ref="tt:tt.attlist"/&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:element name="tt" type="tt:tt.eltype"/&gt;
&lt;/xs:schema&gt;
</pre></div>

<h2 id='xsd_validation'>XML Schema is too restrictive</h2>

<h3>B.2.2.3 Core Attributes Module</h3>

<pre>
&lt;xs:schema targetNamespace="http://www.w3.org/ns/ttml" xml:lang="en"
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  xmlns:tt="http://www.w3.org/ns/ttml"
  xmlns:xml="http://www.w3.org/XML/1998/namespace">
  &lt;xs:import namespace="http://www.w3.org/XML/1998/namespace"
    schemaLocation="xml.xsd"/>
  &lt;xs:attributeGroup name="Core.ID.attrib.class">
    &lt;xs:attribute ref="xml:id"/>
  &lt;/xs:attributeGroup>
  &lt;xs:attributeGroup name="Core.attrib.class">
    &lt;xs:attributeGroup ref="tt:Core.ID.attrib.class"/>
    &lt;xs:attribute ref="xml:lang"/>
    &lt;xs:attribute ref="xml:space"/>
    &lt;xs:anyAttribute namespace="##other"/>
  &lt;/xs:attributeGroup>
  &lt;xs:attributeGroup name="Core.required.attrib.class">
    &lt;xs:attributeGroup ref="tt:Core.ID.attrib.class"/>
    &lt;xs:attribute ref="xml:lang" use="required"/>
    &lt;xs:attribute ref="xml:space"/>
    &lt;xs:anyAttribute namespace="##other"/>
  &lt;/xs:attributeGroup>
&lt;/xs:schema>
</pre>

<h3>B.2.2.12 Parameter Items Module</h3>

<p><code>profile.attlist</code>, <code>features.attlist</code>, <code>feature.attlist</code>, <code>extensions.attlist</code>, and <code>extension.attlist</code> should also contain:</p>
<pre>
&lt;xs:anyAttribute namespace="##other"/>
</pre>

</body>
</html>
